import{w as K,a as U,i as D,I as F,l as _,o as b}from"./pw0acHvw.js";import{o as m,e as q,h as H,u as Q,A as P,N as k,v as V,b as A,_ as O,O as J}from"./BL69-MhK.js";import{f as I,N as L,J as B,d as T,e as h,L as W,I as Z,M as z,Q as R}from"./BdTB-59g.js";import{i as G,u as X,f as Y,c as M}from"./DbLm-Aro.js";function E(a,r){if(a)return a;let l=r??"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function ee(a,r){let l=I(E(a.value.type,a.value.as));return L(()=>{l.value=E(a.value.type,a.value.as)}),B(()=>{var o;l.value||m(r)&&m(r)instanceof HTMLButtonElement&&!((o=m(r))!=null&&o.hasAttribute("type"))&&(l.value="button")}),l}let C=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function $(a){var r,l;let o=(r=a.innerText)!=null?r:"",i=a.cloneNode(!0);if(!(i instanceof HTMLElement))return o;let s=!1;for(let v of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))v.remove(),s=!0;let e=s?(l=i.innerText)!=null?l:"":o;return C.test(e)&&(e=e.replace(C,"")),e}function te(a){let r=a.getAttribute("aria-label");if(typeof r=="string")return r.trim();let l=a.getAttribute("aria-labelledby");if(l){let o=l.split(" ").map(i=>{let s=document.getElementById(i);if(s){let e=s.getAttribute("aria-label");return typeof e=="string"?e.trim():$(s).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return $(a).trim()}function ae(a){let r=I(""),l=I("");return()=>{let o=m(a);if(!o)return"";let i=o.innerText;if(r.value===i)return l.value;let s=te(o).trim().toLowerCase();return r.value=i,l.value=s,s}}var ne=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ne||{}),le=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(le||{});function ue(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let N=Symbol("MenuContext");function w(a){let r=z(N,null);if(r===null){let l=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,w),l}return r}let ve=T({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:r,attrs:l}){let o=I(1),i=I(null),s=I(null),e=I([]),v=I(""),c=I(null),y=I(1);function S(t=u=>u){let u=c.value!==null?e.value[c.value]:null,n=J(t(e.value.slice()),g=>m(g.dataRef.domRef)),p=u?n.indexOf(u):null;return p===-1&&(p=null),{items:n,activeItemIndex:p}}let d={menuState:o,buttonRef:i,itemsRef:s,items:e,searchQuery:v,activeItemIndex:c,activationTrigger:y,closeMenu:()=>{o.value=1,c.value=null},openMenu:()=>o.value=0,goToItem(t,u,n){let p=S(),g=Y(t===M.Specific?{focus:M.Specific,id:u}:{focus:t},{resolveItems:()=>p.items,resolveActiveIndex:()=>p.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});v.value="",c.value=g,y.value=n??1,e.value=p.items},search(t){let u=v.value!==""?0:1;v.value+=t.toLowerCase();let n=(c.value!==null?e.value.slice(c.value+u).concat(e.value.slice(0,c.value+u)):e.value).find(g=>g.dataRef.textValue.startsWith(v.value)&&!g.dataRef.disabled),p=n?e.value.indexOf(n):-1;p===-1||p===c.value||(c.value=p,y.value=1)},clearSearch(){v.value=""},registerItem(t,u){let n=S(p=>[...p,{id:t,dataRef:u}]);e.value=n.items,c.value=n.activeItemIndex,y.value=1},unregisterItem(t){let u=S(n=>{let p=n.findIndex(g=>g.id===t);return p!==-1&&n.splice(p,1),n});e.value=u.items,c.value=u.activeItemIndex,y.value=1}};return K([i,s],(t,u)=>{var n;d.closeMenu(),q(u,H.Loose)||(t.preventDefault(),(n=m(i))==null||n.focus())},h(()=>o.value===0)),W(N,d),U(h(()=>Q(o.value,{0:D.Open,1:D.Closed}))),()=>{let t={open:o.value===0,close:d.closeMenu};return P({ourProps:{},theirProps:a,slot:t,slots:r,attrs:l,name:"Menu"})}}}),ce=T({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:r,slots:l,expose:o}){var i;let s=(i=a.id)!=null?i:`headlessui-menu-button-${F()}`,e=w("MenuButton");o({el:e.buttonRef,$el:e.buttonRef});function v(d){switch(d.key){case b.Space:case b.Enter:case b.ArrowDown:d.preventDefault(),d.stopPropagation(),e.openMenu(),R(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(M.First)});break;case b.ArrowUp:d.preventDefault(),d.stopPropagation(),e.openMenu(),R(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(M.Last)});break}}function c(d){switch(d.key){case b.Space:d.preventDefault();break}}function y(d){a.disabled||(e.menuState.value===0?(e.closeMenu(),R(()=>{var t;return(t=m(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(d.preventDefault(),e.openMenu(),ue(()=>{var t;return(t=m(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let S=ee(h(()=>({as:a.as,type:r.type})),e.buttonRef);return()=>{var d;let t={open:e.menuState.value===0},{...u}=a,n={ref:e.buttonRef,id:s,type:S.value,"aria-haspopup":"menu","aria-controls":(d=m(e.itemsRef))==null?void 0:d.id,"aria-expanded":e.menuState.value===0,onKeydown:v,onKeyup:c,onClick:y};return P({ourProps:n,theirProps:u,slot:t,attrs:r,slots:l,name:"MenuButton"})}}}),de=T({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:r,slots:l,expose:o}){var i;let s=(i=a.id)!=null?i:`headlessui-menu-items-${F()}`,e=w("MenuItems"),v=I(null);o({el:e.itemsRef,$el:e.itemsRef}),G({container:h(()=>m(e.itemsRef)),enabled:h(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function c(t){var u;switch(v.value&&clearTimeout(v.value),t.key){case b.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case b.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let n=e.items.value[e.activeItemIndex.value];(u=m(n.dataRef.domRef))==null||u.click()}e.closeMenu(),O(m(e.buttonRef));break;case b.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(M.Next);case b.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(M.Previous);case b.Home:case b.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(M.First);case b.End:case b.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(M.Last);case b.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>{var n;return(n=m(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case b.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>V(m(e.buttonRef),t.shiftKey?A.Previous:A.Next));break;default:t.key.length===1&&(e.search(t.key),v.value=setTimeout(()=>e.clearSearch(),350));break}}function y(t){switch(t.key){case b.Space:t.preventDefault();break}}let S=_(),d=h(()=>S!==null?(S.value&D.Open)===D.Open:e.menuState.value===0);return()=>{var t,u;let n={open:e.menuState.value===0},{...p}=a,g={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(u=m(e.buttonRef))==null?void 0:u.id,id:s,onKeydown:c,onKeyup:y,role:"menu",tabIndex:0,ref:e.itemsRef};return P({ourProps:g,theirProps:p,slot:n,attrs:r,slots:l,features:k.RenderStrategy|k.Static,visible:d.value,name:"MenuItems"})}}}),pe=T({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:r,attrs:l,expose:o}){var i;let s=(i=a.id)!=null?i:`headlessui-menu-item-${F()}`,e=w("MenuItem"),v=I(null);o({el:v,$el:v});let c=h(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===s:!1),y=ae(v),S=h(()=>({disabled:a.disabled,get textValue(){return y()},domRef:v}));L(()=>e.registerItem(s,S)),Z(()=>e.unregisterItem(s)),B(()=>{e.menuState.value===0&&c.value&&e.activationTrigger.value!==0&&R(()=>{var f,x;return(x=(f=m(v))==null?void 0:f.scrollIntoView)==null?void 0:x.call(f,{block:"nearest"})})});function d(f){if(a.disabled)return f.preventDefault();e.closeMenu(),O(m(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(M.Nothing);e.goToItem(M.Specific,s)}let u=X();function n(f){u.update(f)}function p(f){u.wasMoved(f)&&(a.disabled||c.value||e.goToItem(M.Specific,s,0))}function g(f){u.wasMoved(f)&&(a.disabled||c.value&&e.goToItem(M.Nothing))}return()=>{let{disabled:f}=a,x={active:c.value,disabled:f,close:e.closeMenu},{...j}=a;return P({ourProps:{id:s,ref:v,role:"menuitem",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,disabled:void 0,onClick:d,onFocus:t,onPointerenter:n,onMouseenter:n,onPointermove:p,onMousemove:p,onPointerleave:g,onMouseleave:g},theirProps:{...l,...j},slot:x,attrs:l,slots:r,name:"MenuItem"})}}});export{pe as M,ce as S,de as b,ve as g};
